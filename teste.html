<!DOCTYPE html>
<html>

<head>
    <title>Enviar mensagem para WhatsApp</title>
</head>

<body>
    <h2>Enviar mensagem para WhatsApp</h2>
    <form id="whatsapp-form" method="post">
        <label for="phone">Número de telefone (inclua o código do país, por exemplo, +5511999999999):</label><br>
        <input type="text" id="phone" name="phone" required><br>
        <label for="message">Mensagem:</label><br>
        <textarea id="message" name="message" required></textarea><br><br>
        <button type="submit">Enviar Mensagem</button>
    </form>

    <script>
        document.getElementById("whatsapp-form").addEventListener("submit", function (event) {
            event.preventDefault();
            const phone = encodeURIComponent(document.getElementById("phone").value);
            const message = encodeURIComponent(document.getElementById("message").value);
            const url = '/send-whatsapp';

            fetch(url, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded'
                },
                body: `phone=${phone}&message=${message}`
            })
                .then(response => {
                    if (response.ok) {
                        alert("Mensagem enviada com sucesso para o WhatsApp!");
                    } else {
                        alert("Erro ao enviar mensagem para o WhatsApp. Por favor, tente novamente mais tarde.");
                    }
                })
                .catch(error => {
                    console.error('Erro ao enviar mensagem para o WhatsApp:', error);
                    alert("Erro ao enviar mensagem para o WhatsApp. Por favor, tente novamente mais tarde.");
                });
        });
    </script>
</body>

</html>